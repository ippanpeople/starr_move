<!DOCTYPE html>
<html>

<head>
    <style>
        body {
            margin: 0%;
            padding: 0%;
        }

        img {
            width: auto;
            height: auto;
            padding: 0%;
            margin: 0%;
            /* display: flex; */
        }

        #container .table {
            width: 50px;
            height: 60px;
            background-color: rgba(208, 106, 4, 0);
            /* 或者设置其他背景颜色 */
            position: absolute;
            top: 420px;
            left: 470px;
            z-index: 5;
        }

        #container .table_area {
            width: 90px;
            height: 100px;
            background-color: rgba(180, 171, 171, 0);
            /* 或者设置其他背景颜色 */
            position: absolute;
            top: 400px;
            left: 450px;
            z-index: 0;
        }

        .myBox {
            width: 10px;
            height: 10px;
            border-radius: 999em;
            /* 其他样式属性 */
            position: absolute;
        }

        .newBox {
            width: 10px;
            height: 10px;
            border-radius: 999em;
            /* 其他样式属性 */
            position: absolute;
        }

        #bar_door {
            position: absolute;
            width: 72px;
            height: 72px;
            left: 10px;
            top: 64px;
            /* 初始时隐藏图像 */
            display: none;
        }

        #room {
            position: absolute;
            /* 追加 */
            background-image: url(/img/bar-door.png);
            /* background-image: url(/public/img/bar-door.png); */
            width: 84px;
            height: 84px;
            left: 714px;
            top: 426px;
            opacity: 0;
        }
        #bar {
            position: absolute;
            /* 追加 */
            background-image: url(/img/bar-door.png);
            /* background-image: url(/public/img/bar-door.png); */
            width: 84px;
            height: 84px;
            left: 66px;
            top: 66px;
            opacity: 0;
        }

        /* 追加webrtc */
        #remote-media-area {
            position: absolute;
            display: flex; 

            /* width: 84px;
            height: 84px; */
            left: 66px;
            top: 66px;
            margin-left: 100px;

        }
        /* 追加webrtc */
        .video_wrapper {
            position: relative;
            display: inline-block;
            width: 152px;
            height: 114.5px;
            overflow: hidden;
        }
        .video_wrapper > video {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translateX(-50%) translateY(-50%);
            min-width: 100%;
            min-height: 100%;
        }
        #local-video {
            position: absolute;
            top: 780px;
            left: 500px;
        }
        #videoMuteButton{
            position: absolute;
            top: 830px;
            left: 450px;
        }
        #audioMuteButton {
            position: absolute;
            top: 780px;
            left: 450px;
        }


    
        /* webrtc追加 */
        #videoMuteButton {
            width: 40px;
            height: 40px;
            background-image: url("public/img/camera.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            border: none; /* 縁を削除 */
            border-radius: 10%; /* 角を丸くする */
        }
        #audioMuteButton {
            width: 40px;
            height: 40px;
            background-image: url("public/img/mic.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            border: none; /* 縁を削除 */
            border-radius: 10%; /* 角を丸くする */
        }

        /* チャット追加 */
        #chatarea {
            position: absolute;
            top: 0px;
            left: 1200px;
            height: 864px;

        }
        #search-window{
            width: 165.54px;
            height: 88px;
            flex-shrink: 0;

            border-radius: 5px;
        }
        #chat-log-area{
            width: 180px;
            height: 75%;
            overflow: scroll;
            background: orange;

        }
        #chat-message{
            position: relative;
            width: 100%;
            word-wrap: break-word;
        }
        #chat-user-search {
            width: 165px;

        }
        #search-window{
            position: relative;
            display: flex;
            flex-direction: column-reverse; /* 下を基準にして上に要素を追加 */
            align-items: flex-end; /* 要素を下端に揃える */
            position:absolute;
            top: 75%;
        }
        #chat-send-area{
            position:fixed;
            display: flex;
            flex-direction: column; /* 縦並びに変更 */
            align-items: flex-start; /* アイテムを先頭に揃える */
            top: 55%;
        }
        #chat-search-area{
            display: flex;
            justify-content: space-between;
            width: 100%;
        }
        #chat-address {
            text-align: left;
        }
        #chat-search-right {
            text-align: right;
        }
        #chat-search-button{
            border-radius: 5px; /* 角を丸くする */
            width: 100%;
            color: white;
            background-color: darkblue;
        }
        #search-window{
            margin-left: 55px;
            margin-bottom: 50px;
            background-color: blueviolet;
            width: 40%;
        }
        #chat-logo{
            text-align: center;
        }

    </style>
</head>

<body>
    <!-- 追加 -->
    <img src="/img/lobby.png" alt="">
    <!-- <img src="/public/img/lobby.png" alt=""> -->
    <!-- <div id="bar_door_container">
        <img id="bar_door" src="/public/img/bar-door.png">
    </div> -->
    <div id="container">
        <div class="table"></div>
        <div class="table_area"></div>
    </div>
    <div id="bar"></div>
    <div id="room"></div>
    <!-- 追加 -->
    <!-- <script src="/public/move.js"></script>
    <script src="/public/door.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/@skyway-sdk/room/dist/skyway_room-latest.js"></script>

    <div id="chatarea">
        <div id="chat-logo">chat</div>
        <div>------------------------------------------------</div>
        <div id="chat-log-area">
            <div id="chat-log-date" style="text-align: center;">今日</div>
            <div id="chat-username">
                kne
            </div>
            <div id="chat-message">
                マクロスfewoaifjeowijfewajfeiajfioewjfjei
            </div>
        </div>

        <div>------------------------------------------------</div>

        <div id="search-window" >
            <div id="chat-search">検索　</div>

            <div id="chat-userlist">
                <div id="chat-users">
                    ユーザ名　
                </div>
            </div>
            <div id="users">全員　</div>
        </div>

        <div id="chat-send-area">
            <div id="chat-search-area">
                <div id="chat-address">宛先:</div>
                <div>
                    <div id="chat-search-button">　全員　　　^　</div>
                </div>
                <!-- <input type="button" id="chat-user-search" value="全員" width="100px"> 変数に格納 -->
            </div>
            <textarea id="send_message"></textarea>
            <button id="send_button">button</button>
        </div>
    </div>

    <!--  ///////////////////////////////////// -->
    <!-- <script src="move.js"></script> -->

    <!--//////////////追加webrtc ////////////////-->
    <p>ID: <span id="my-id"></span></p>
    <div>
      room name: <input id="room-name" type="text" />
      <button id="join">join</button>
    </div>

    <div id="remote-media-area"></div>
    <video id="local-video" width="100px" height="" muted playsinline pos></video>
    <button id="videoMuteButton" ></button>
    <button id="audioMuteButton" "></button>

    <script src="/public/move.js"></script>
    <script src="/public/door.js"></script>
</body>
</html>